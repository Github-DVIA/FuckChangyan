<html>
  <head>
    <title>Jump</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script>
      function go() {
        event.preventDefault();
        window.parent.location.href =
          localStorage.getItem("p") + document.getElementById("i").value;
      }
      function showProtocol() {
        let p = localStorage.getItem("p");
        if (p) {
          document.getElementById("cp").innerText = p;
        } else {
          localStorage.setItem("p", "http ://");
        }
      }
      function changeProtocol() {
        let p = localStorage.getItem("p");
        if (p === "http ://") {
          localStorage.setItem("p", "https://");
        } else {
          localStorage.setItem("p", "http ://");
        }
        showProtocol();
      }
    </script>
    <form
      onsubmit="go()"
      style="display: grid; grid-template-columns: 0.1fr auto; margin-bottom: 0"
    >
      <button
        type="button"
        onclick="changeProtocol()"
        style="
          background-color: transparent;
          border: none;
          font-family: 'Courier New', Courier, monospace;
        "
      >
        <a id="cp">...</a>
        <script>
          showProtocol();
        </script>
      </button>
      <input id="i" required checked autofocus="autofocus" />
    </form>
    <script>
      function store() {
        localStorage.setItem(
          "note",
          String(document.getElementById("note").value)
        );
      }
    </script>
    <textarea
      onkeyup="store()"
      id="note"
      style="width: 100%; resize: vertical"
    ></textarea>
    <script>
      let note = localStorage.getItem("note");
      if (note) {
        document.getElementById("note").innerText = note;
      }
    </script>
  </body>
</html>
